import org.apache.tools.ant.filters.EscapeUnicode

plugins {
    id "java"
    id 'org.jetbrains.intellij' version "0.7.2"
    id 'org.jetbrains.kotlin.jvm' version '1.4.10'
}

apply plugin: "kotlin"
apply plugin: "org.jetbrains.intellij"

group "com.jiangyy"
version "1.2.0"

sourceCompatibility = 1.8
targetCompatibility = 1.8

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

repositories {
    mavenCentral()
}

dependencies {
    implementation("com.squareup.okhttp3:okhttp:4.9.0")
    implementation("com.google.code.gson:gson:2.8.6")
    implementation("org.jetbrains.kotlin:kotlin-stdlib")
    testImplementation group: 'junit', name: 'junit', version: '4.12'
}

intellij {
    version = "201.8743.12"
    type = "IC"
    pluginName = "AutoGradle"
    plugins = ["android", "com.intellij.java"]
    updateSinceUntilBuild = false
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.withType(ProcessResources) {
    filesMatching('**/*.properties') {
        filter EscapeUnicode
    }
}